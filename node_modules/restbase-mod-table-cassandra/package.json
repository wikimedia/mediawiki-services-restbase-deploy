{
  "name": "restbase-mod-table-cassandra",
  "description": "RESTBase table storage on Cassandra",
  "version": "0.8.15",
  "dependencies": {
    "bluebird": "^3.0.6",
    "cassandra-driver": "^2.2.2",
    "core-js": "^1.2.6",
    "extend": "^3.0.0",
    "js-yaml": "^3.4.6",
    "json-stable-stringify": "git+https://github.com/wikimedia/json-stable-stringify.git#master",
    "restbase-mod-table-spec": "^0.1.3",
    "semver": "^5.1.0"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/wikimedia/restbase-mod-table-cassandra.git"
  },
  "scripts": {
    "test": "mocha",
    "coverage": "istanbul cover _mocha -- -R spec",
    "coveralls": "cat ./coverage/lcov.info | coveralls"
  },
  "devDependencies": {
    "coveralls": "^2.11.4",
    "istanbul": "^0.4.1",
    "mocha": "^2.3.4",
    "mocha-jshint": "^2.2.5",
    "mocha-jscs": "^4.0.0",
    "mocha-lcov-reporter": "^1.0.0",
    "preq": "^0.4.7"
  },
  "gitHead": "540c0288a34cfb13c2c63fd6ca68dbb9d8297001",
  "readme": "# [RESTBase](https://github.com/wikimedia/restbase) table storage on Cassandra\n\nThis projects provides a [high-level table storage service abstraction][spec]\nsimilar to Amazon DynamoDB or Google DataStore on top of Cassandra. As the\nproduction table storage backend for [RESTBase][restbase], it powers the\nWikimedia REST APIs, such as this one for the [English\nWikipedia](https://en.wikipedia.org/api/rest_v1/?doc).\n\nFor testing and small installs, there is also [a sqlite backend][sqlite]\nimplementing the same interfaces.\n\n[restbase]: https://github.com/wikimedia/restbase\n[sqlite]: https://github.com/wikimedia/restbase-mod-table-sqlite\n  \n## Issue tracking\n\nWe use [Phabricator to track\nissues](https://phabricator.wikimedia.org/maniphest/task/create/?projects=PHID-PROJ-xdgck5inpvozg2uwmj3f). See the [list of current issues in restbase-mod-table-cassandra](https://phabricator.wikimedia.org/tag/restbase-cassandra/).\n\n## Status\n\nIn production since March 2015.\n\n[![Build Status](https://travis-ci.org/wikimedia/restbase-mod-table-cassandra.svg?branch=master)](https://travis-ci.org/wikimedia/restbase-mod-table-cassandra)\n[![coverage status](https://coveralls.io/repos/wikimedia/restbase-mod-table-cassandra/badge.svg)](https://coveralls.io/r/wikimedia/restbase-mod-table-cassandra)\n\n### Features\n- basic table storage service with REST interface, backed by Cassandra,\n    implementing [the RESTBase table storage interface][spec]\n- multi-tenant design: domain creation, prepared for per-domain ACLs\n- table creation with declarative JSON schemas\n- [global secondary\n    indexes](https://github.com/wikimedia/restbase-mod-table-cassandra/blob/master/doc/SecondaryIndexes.md)\n    - index entries written in batch with main data write, superseded entries\n        removed from indexes asynchronously / eventually consistent\n        - support for strongly consistent reads at the cost of extra cross-checks\n            with the main data table (not implemented yet)\n    - range queries\n    - projections\n- limited automatic schema migrations\n- multiple retention policies for limiting the MVCC history\n- paging\n\n[spec]: https://github.com/wikimedia/restbase-mod-table-spec\n\n\n### TODO\n- Secondary index refinements:\n    - queries for columns not projected into the secondary index\n    - full index rebuilds\n    - [sharded ordered range\n        indexes](https://phabricator.wikimedia.org/T112031)\n- Possibly, some amount of [transaction support](https://github.com/wikimedia/restbase-mod-table-cassandra/blob/master/doc/Transactions.md)\n- [Leverage Cassandra 3 materialized\n    views](https://phabricator.wikimedia.org/T111746) where it makes sense,\n    once those have stabilized.\n\n## Configuration\nConfiguration of this module takes place from within an `x-modules` stanza in the YAML-formatted\n[RESTBase configuration file](https://github.com/wikimedia/restbase/blob/master/config.example.wikimedia.yaml).\nWhile complete configuration of RESTBase is beyond the scope of this document, (see the\n[RESTBase docs](https://github.com/wikimedia/restbase) for that), this section covers the\n[restbase-mod-table-cassandra](https://github.com/wikimedia/restbase-mod-table-cassandra) specifics.\n\n```yaml\n    - name: restbase-mod-table-cassandra\n      version: 1.0.0\n      type: npm\n      options: # Passed to the module constructor\n        conf:\n          version: 1\n          hosts: [localhost]\n          username: cassandra\n          password: cassandra\n          defaultConsistency: localOne\n          localDc: datacenter1\n          datacenters:\n            - datacenter1\n          storage_groups:\n            - name: default.group.local\n              domains: /./\n```\n\n### Version\nThe version of this configuration.  Each edit of the module configuration must\ncorrepond to a new, unique version.\n\n*Note: Versions must be monotonically increasing.*\n\n```yaml\n    version: 1\n```\n\n### Hosts\nA list of Cassandra nodes to use as contact points.\n\n```yaml\n    hosts:\n      - cassandra-01.sample.org\n      - cassandra-02.sample.org\n      - cassandra-03.sample.org\n```\n\n### Credentials\nPassword credentials to use in authenticating with Cassandra.\n\n*Note: Optional; Leave unconfigured if Cassandra authentication is not enabled.*\n\n```yaml\n    username: someuser\n    password: somepass\n```\n\n### Default Consistency\nThe Cassandra consistency level to use when not otherwise specified.  Valid\nvalues are those from the [nodejs driver for Cassandra](http://docs.datastax.com/en/drivers/nodejs/2.0/module-types.html#~consistencies).\nDefaults to `localOne`.\n\n```yaml\n    defaultConsistency: localOne\n```\n\n### TLS\nKey and certificate information for use in TLS-encrypted environments.  See the\n[nodejs documentation on `tls.connect`](https://nodejs.org/api/tls.html#tls_tls_connect_port_host_options_callback)\nfor the meaning of these directives.\n\n*Note: Optional; Leave unconfigured if Cassandra client encryption is not enabled.*\n\n```yaml\n    tls:\n      cert: /etc/restbase/tls/cert.pem\n      key: /etc/restbase/tls/key.pem\n      ca:\n        - /etc/restbase/tls/root.pem\n```\n\n### Local Datacenter\n[restbase-mod-table-cassandra](https://github.com/wikimedia/restbase-mod-table-cassandra)\nuses a datacenter-aware connection pool.  The `localDc` directive instructs the module\nwhich datacenter to treat as 'local' to this instance.  Cassandra nodes in the local\ndatacenter will be used for queries, and any others serve as a fallback.  Defaults to\n`datacenter1` (the Cassandra default).\n\n*Note: the `localDc` must be in the list of configured datacenters (see below).*\n\n```yaml\n    localDc: datacenter1\n```\n\n### Datacenters\nThe list of datacenters this Cassandra cluster belongs to.  Data will be replicated\nacross these datacenters accordingly.  Defaults to `[ datacenter1 ]`.\n\n*Note: Changing this list alters the underlying Cassandra keyspaces in order to add\nor remove datacenter replicas accordingly, but replication is NOT made retroactive.\nYou MUST perform a\n[Cassandra repair](http://wiki.apache.org/cassandra/Operations?#Repairing_missing_or_inconsistent_data)\nafter adding a new datacenter to realize the\nadded redundancy.  Likewise, you must perform a cleanup to reclaim space if a\ndatacenter is removed.*\n\n```yaml\n    datacenters:\n      - datacenter1\n```\n\n### Storage Groups\nStorage groups are used to map tables to one or more hosts/domains.\n\n```yaml\n    storage_groups:\n      - name: default.group.local\n        domains: /./\n```\n",
  "readmeFilename": "Readme.md",
  "bugs": {
    "url": "https://github.com/wikimedia/restbase-mod-table-cassandra/issues"
  },
  "homepage": "https://github.com/wikimedia/restbase-mod-table-cassandra#readme",
  "_id": "restbase-mod-table-cassandra@0.8.15",
  "_shasum": "1ef47a05d4744b9bc4a8cfc52af3abde9a8caa54",
  "_from": "git+https://github.com/Pchelolo/restbase-mod-table-cassandra.git#bluebird",
  "_resolved": "git+https://github.com/Pchelolo/restbase-mod-table-cassandra.git#540c0288a34cfb13c2c63fd6ca68dbb9d8297001"
}
